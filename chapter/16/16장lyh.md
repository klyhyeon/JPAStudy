###트랜잭션과 락, 2차 캐시

**1) 트랜잭션과 락**

트랜잭션은 `ACID`를 보장해야합니다.

- `A(Atomicity) 원자성`: 트랜잭션 내 실행한 작업들을 마치 하나인 것처럼 모두 실패하거나 성공해야 합니다.
- `C(Consistency) 일관성`: 모든 트랜잭션은 일관된 DB를 만족해야 합니다. `데이터 무결성`
- `I(Isolation) 격리성`: 동시에 실행되는 트랜잭션은 서로에 영향을 미치지 않도록 격리합니다. 격리성은 동시성과 관련된 성능 이슈
로 격리 수준을 선택할 수 있습니다. 
- `D(Durability) 지속성`: 트랜잭션을 성공적으로 끝내면 그 결과가 항상 기록되어야 한다. 중간에 시스템에 문제가 생겨도 
DB 로그 등을 사용해서 성공한 트랜잭션 내용을 복구해야 합니다.

참고로 트랜잭션은 `원자성`, `일관성`, `지속성`을 보장합니다. `격리성`을 완벽히 보장하려면 커밋을 하나씩 처리해야하는데
이럴 경우 동시성 처리 성능이 매우 나빠집니다. ANSI(미국표준협회) 표준은 트랜잭션의 격리수준을 4단계로 나누었습니다. 
순서대로 격시성이 낮음 -> 높음 입니다.
![image](https://user-images.githubusercontent.com/61368705/132099286-31f86c17-7403-4315-9a30-7d30139ead5f.png)

**낙관적 락과 비관적 락 기초**

말그래도 `낙관적 락`은 충둘이 발생하지 않는다는 과정하에 락을 걸고, `비관적 락`은 보수적으로 우선 락을 거는 것을 말합니다.
트랜잭션 시 `second lost updates problem` 두 번의 갱신 분실 문제가 발생할 수 있는데, 이때는 3가지 방법이 있습니다.

e.g. 두 명이 같은 화면에서 작업하다 A가 먼저 수정완료 했지만 뒤이어 B가 수정완료를 해 나중에 완료한 B의 수정사항만 남게되는 
문제입니다.

- 마지막 커밋만 인정하기
- 최초 커밋만 인정하기 
- 충돌하는 갱신 내용 병합하기


**2) 2차 캐시**

