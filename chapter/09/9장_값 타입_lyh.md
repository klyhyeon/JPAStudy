## 값 타입

### 종류

1. 기본 타입
- 자바 기본 타입(primitive) : int, double
- 래퍼 클래스(reference class) : Integer
- String

2. 임베디드 타입
- 복합 값 타입
- @Embedded 타입은 엔티티의 생명주기에 의존적이기 때문에 컴포지션 관계입니다.
- 잘 설계한 ORM 애플리케이션은 테이블 수보다 클래스 수가 더 많습니다. 

@AttributeOverride(잘 사용하지 않음)
- 같은 @Embedded 객체를 사용할 때 매핑정보를 재정의 해줍니다.

3. 컬렉션 타입

### 값 참조와 복사

Java에서 기본 타입을 복사할 때 완전히 독립된 값을 가지지만, 객체 타입은 항상 참조하기 때문에(==참조값을 전달하기 때문에)
같은 객체 참조를 공유하게 됩니다.
```java
    //기본 타입
    int a = 5;
    int b = a;
    b = 4;
    //결과 : a = 5, b = 4;

    //객체 타입
    Address a = new Address("old");
    Address b = a;
    b.setCity("New");
    
    //결과 : a.setCity() == b.setCity() 
```

### 값 비교

동일성 비교 : 인스턴스 참조 값을 비교합니다. == 사용

동등성 비교 : 인스턴스 값을 비교합니다. equlas

### 값 타입 컬렉션

하나 이상의 값을 저장할 때 @ElementCollection을 사용해 컬렉션으로 보관합니다.

컬렉션은 별도 테이블에 보관되는데 값 타입의 값이 변경되면 DB의 원본 데이터를 찾기 어렵다는 문제가 있습니다.

이런 문제로 인해 JPA 구현체들은 값 타입 컬렉션에 변경 사항이 발생하면 값 타입 컬렉션이 매핑된 모든 데이터를 삭제하고 다시 저장합니다.

따라서 값 타입 컬렉션이 매핑된 테이블에 데이터가 많다면 값 타입 컬렉션 대신에 일대다 관계를 고려해야합니다. 


